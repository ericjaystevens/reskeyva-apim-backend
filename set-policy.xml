<policies>
    <inbound>
        <base />
        <set-variable name="bodySize" value="@(context.Request.Headers["Content-Length"][0])" />
        <send-request mode="new" response-variable-name="updateResponse">
            <set-url>https://sareskeyva.table.core.windows.net/reskeyva</set-url>
            <set-method>POST</set-method>
            <set-header name="x-ms-date" exists-action="override">
                <value>@(DateTime.Now.ToString())</value>
            </set-header>
            <set-header name="Content-Type" exists-action="override">
                <value>application/json</value>
            </set-header>
            <set-header name="x-ms-version">
                <value>2017-11-09</value>
            </set-header>
            <set-body>{  
            "value":"my1Val"
            "PartitionKey":"mypartitionkey",  
            "RowKey":"myrowkey"  
            }</set-body>
            <authentication-managed-identity resource="https://storage.azure.com/" />
        </send-request>
        <mock-response status-code="200" content-type="application/json" />
    </inbound>
    <backend>
        <base />
    </backend>
    <outbound>
        <base />
    </outbound>
    <on-error>
        <base />
    </on-error>
</policies>